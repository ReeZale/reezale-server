const xmlContentGenerate = require("../xmlContentGenerator");
const { generateProductFeedXML } = require("../xmlGenerator");

const ginaTricot = async () => {
  const fileData = {
    title: "Gina Tricot Product Feed - Sweden (SE) [sv-SE]",
    link: "https://www.ginatricot.com/se",
    description:
      "Säsongens trender och modenyheter till rätt pris. Alltid fri frakt över 400:- och öppet köp i 30 dagar när du handlar online på Ginatricot.com!",
  };

  const commonData = {
    link: "https://www.ginatricot.com",
    locale: "se-SV",
    currency: "SEK",
    sizeSystem: "EU",
    sizeCategory: "regular",
    condition: "new",
    shipWeight: "500 g",
    shipLength: "30 cm",
    shipWidth: "25 cm",
    shipHeight: "5 cm",
  };

  const template = {
    item_group: "",
    title: "",
    description: "",
    gender: "female",
    age_group: "adult",
    color: "",
    material: "",
    pattern: "",
    link: "",
    image_link: "",
    additional_image_link: [],
    google_product_category: "",
    product_type: "Dam > Klader > ",
    brand: "GINA TRICOT",
    items: [
      {
        id: "",
        gtin: "",
        mpn: "",
        size: "",
        price: "",
        sale_price: "",
        availability: "in_stock",
      },
    ],
  };

  const items = [
    {
      item_group: "245485751",
      title: "Front Seam Jeans",
      description:
        "Jeans med sömmar framtill. Jeansen är mörkblåa och har raka ben med fullängd. De har hög midja, dragkedjegylf och fickor. Se gärna vår storleksguide för att hitta din storlek.",
      gender: "female",
      age_group: "adult",
      color: "Rinse (5751)",
      material: "Bomull 99%, Elastane 1%",
      pattern: "Solid",
      sizeType: "regular",
      link: "https://www.ginatricot.com/se/klader/jeans/highwaist/front-seam-jeans-245485751",
      image_link: "https://ginatricot-pim.imgix.net/245485751/24548575115.jpg",
      additional_image_link: [
        "https://ginatricot-pim.imgix.net/245485751/24548575101.jpg",
        "https://ginatricot-pim.imgix.net/245485751/24548575102.jpg",
        "https://ginatricot-pim.imgix.net/245485751/24548575103.jpg",
        "https://ginatricot-pim.imgix.net/245485751/24548575105.jpg",
        "https://ginatricot-pim.imgix.net/245485751/24548575115.jpg",
      ],
      google_product_category: "204",
      product_type: "Dam > Kläder > Jeans > High Waist",
      brand: "GINA TRICOT",
      items: [
        {
          id: "245485751032",
          gtin: "245485751032",
          mpn: "245485751032",
          size: "32",
          price: "499.95",
          sale_price: "499.95",
          availability: "in_stock",
        },
        {
          id: "245485751034",
          gtin: "245485751034",
          mpn: "245485751034",
          size: "34",
          price: "499.95",
          sale_price: "499.95",
          availability: "in_stock",
        },
        {
          id: "245485751036",
          gtin: "245485751036",
          mpn: "245485751036",
          size: "36",
          price: "499.95",
          sale_price: "499.95",
          availability: "in_stock",
        },
        {
          id: "245485751038",
          gtin: "245485751038",
          mpn: "245485751038",
          size: "38",
          price: "499.95",
          sale_price: "499.95",
          availability: "in_stock",
        },
        {
          id: "245485751040",
          gtin: "245485751040",
          mpn: "245485751040",
          size: "40",
          price: "499.95",
          sale_price: "499.95",
          availability: "in_stock",
        },
        {
          id: "245485751042",
          gtin: "245485751042",
          mpn: "245485751042",
          size: "42",
          price: "499.95",
          sale_price: "499.95",
          availability: "in_stock",
        },
        {
          id: "245485751044",
          gtin: "245485751044",
          mpn: "245485751044",
          size: "44",
          price: "499.95",
          sale_price: "499.95",
          availability: "in_stock",
        },
      ],
    },
    {
      item_group: "214895305",
      title: "Low straight jeans",
      description:
        "Jeans med låg midja. Jeansen är blåa och har rak passform i denim utan stretch. De har dragkedjegylf och fickor fram och bak. Se gärna vår storleksguide för att hitta din storlek.",
      gender: "female",
      age_group: "adult",
      color: "Original blue (5305)",
      material: "100% Bomull",
      pattern: "Solid",
      sizeType: "regular",
      link: "https://www.ginatricot.com/se/klader/jeans/straight/low-straight-jeans-214895305",
      image_link: "https://ginatricot-pim.imgix.net/214895305/21489530515.jpg",
      additional_image_link: [
        "https://ginatricot-pim.imgix.net/214895305/21489530501.jpg",
        "https://ginatricot-pim.imgix.net/214895305/21489530502.jpg",
        "https://ginatricot-pim.imgix.net/214895305/21489530503.jpg",
        "https://ginatricot-pim.imgix.net/214895305/21489530505.jpg",
        "https://ginatricot-pim.imgix.net/214895305/21489530515.jpg",
      ],
      google_product_category: "204",
      product_type: "Dam > Kläder > Jeans > High Waist",
      brand: "GINA TRICOT",
      items: [
        {
          id: "214895305032",
          gtin: "214895305032",
          mpn: "214895305032",
          size: "32",
          price: "499.95",
          sale_price: "374.95",
          availability: "in_stock",
        },
        {
          id: "214895305034",
          gtin: "214895305034",
          mpn: "214895305034",
          size: "34",
          price: "499.95",
          sale_price: "374.95",
          availability: "in_stock",
        },
        {
          id: "214895305036",
          gtin: "214895305036",
          mpn: "214895305036",
          size: "36",
          price: "499.95",
          sale_price: "374.95",
          availability: "in_stock",
        },
        {
          id: "214895305038",
          gtin: "214895305038",
          mpn: "214895305038",
          size: "38",
          price: "499.95",
          sale_price: "374.95",
          availability: "in_stock",
        },
        {
          id: "214895305040",
          gtin: "214895305040",
          mpn: "214895305040",
          size: "40",
          price: "499.95",
          sale_price: "374.95",
          availability: "in_stock",
        },
        {
          id: "214895305042",
          gtin: "214895305042",
          mpn: "214895305042",
          size: "42",
          price: "499.95",
          sale_price: "374.95",
          availability: "in_stock",
        },
        {
          id: "214895305044",
          gtin: "214895305044",
          mpn: "214895305044",
          size: "44",
          price: "499.95",
          sale_price: "374.95",
          availability: "in_stock",
        },
      ],
    },
    {
      item_group: "204899000",
      title: "Low waist bootcut jeans",
      description:
        "Bootcut jeans med låg midja i denim med stretch. Jeansen är svarta och har utsvängda ben med normallängd. De har dragkedjegylf och fickor fram och bak.",
      gender: "female",
      age_group: "adult",
      color: "Black (9000)",
      material: "Bomull 82%, Polyester 16%, Elastan 2%",
      pattern: "Solid",
      sizeType: "regular",
      link: "https://www.ginatricot.com/se/klader/jeans/low-waist-jeans/low-waist-bootcut-jeans-204899000",
      image_link: "https://ginatricot-pim.imgix.net/204899000/20489900001.jpg",
      additional_image_link: [
        "https://ginatricot-pim.imgix.net/204899000/20489900001.jpg",
        "https://ginatricot-pim.imgix.net/204899000/20489900002.jpg",
        "https://ginatricot-pim.imgix.net/204899000/20489900003.jpg",
      ],
      google_product_category: "204",
      product_type: "Dam > Kläder > Jeans > High Waist",
      brand: "GINA TRICOT",
      items: [
        {
          id: "204899000032",
          gtin: "204899000032",
          mpn: "204899000032",
          size: "32",
          price: "499.95",
          sale_price: "374.95",
          availability: "in_stock",
        },
        {
          id: "204899000034",
          gtin: "204899000034",
          mpn: "204899000034",
          size: "34",
          price: "499.95",
          sale_price: "374.95",
          availability: "in_stock",
        },
        {
          id: "204899000036",
          gtin: "204899000036",
          mpn: "204899000036",
          size: "36",
          price: "499.95",
          sale_price: "374.95",
          availability: "in_stock",
        },
        {
          id: "204899000038",
          gtin: "204899000038",
          mpn: "204899000038",
          size: "38",
          price: "499.95",
          sale_price: "374.95",
          availability: "in_stock",
        },
        {
          id: "204899000040",
          gtin: "204899000040",
          mpn: "204899000040",
          size: "40",
          price: "499.95",
          sale_price: "374.95",
          availability: "in_stock",
        },
        {
          id: "204899000042",
          gtin: "204899000042",
          mpn: "204899000042",
          size: "42",
          price: "499.95",
          sale_price: "374.95",
          availability: "in_stock",
        },
        {
          id: "204899000044",
          gtin: "204899000044",
          mpn: "204899000044",
          size: "44",
          price: "499.95",
          sale_price: "374.95",
          availability: "in_stock",
        },
        {
          id: "204899000046",
          gtin: "204899000046",
          mpn: "204899000046",
          size: "46",
          price: "499.95",
          sale_price: "374.95",
          availability: "out_of_stock",
        },
        {
          id: "204899000048",
          gtin: "204899000048",
          mpn: "204899000048",
          size: "48",
          price: "499.95",
          sale_price: "374.95",
          availability: "out_of_stock",
        },
      ],
    },
    {
      item_group: "250531420",
      title: "Knitted shaped blazer",
      description:
        "Figursydd kofta med guldknappar framtill. Koftan är vit och har oversize fit. Den har lång ärm, v-ringning och intagen midja.",
      gender: "female",
      age_group: "adult",
      color: "Offwhite (1420)",
      material: "Bomull  75%, Polyester  25%",
      pattern: "Stickad",
      sizeType: "regular",
      link: "https://www.ginatricot.com/se/klader/trojor/koftorcardigans/knitted-shaped-blazer-250531420",
      image_link: "https://ginatricot-pim.imgix.net/250531420/25053142001.jpg",
      additional_image_link: [
        "https://ginatricot-pim.imgix.net/250531420/25053142001.jpg",
        "https://ginatricot-pim.imgix.net/250531420/25053142003.jpg",
        "https://ginatricot-pim.imgix.net/250531420/25053142005.jpg",
      ],
      google_product_category: "212",
      product_type: "Dam > Kläder > Koftor > Cardigan",
      brand: "GINA TRICOT",
      items: [
        {
          id: "250531420102",
          gtin: "250531420102",
          mpn: "250531420102",
          size: "XS",
          price: "599.95",
          sale_price: "599.95",
          availability: "out_of_stock",
        },
        {
          id: "250531420103",
          gtin: "250531420103",
          mpn: "250531420103",
          size: "S",
          price: "599.95",
          sale_price: "599.95",
          availability: "out_of_stock",
        },
        {
          id: "250531420104",
          gtin: "250531420104",
          mpn: "250531420104",
          size: "M",
          price: "599.95",
          sale_price: "599.95",
          availability: "out_of_stock",
        },
        {
          id: "250531420105",
          gtin: "250531420105",
          mpn: "250531420105",
          size: "L",
          price: "599.95",
          sale_price: "599.95",
          availability: "in_stock",
        },
        {
          id: "250531420106",
          gtin: "250531420106",
          mpn: "250531420106",
          size: "XL",
          price: "599.95",
          sale_price: "599.95",
          availability: "out_of_stock",
        },
      ],
    },
  ];

  const fileContent = await xmlContentGenerate(commonData, items);

  console.log("Flat map", fileContent);

  generateProductFeedXML(
    fileContent,
    fileData,
    "gina-tricot-product-feed-se-sv.xml"
  );
};

module.exports = ginaTricot;
